import{L as o,M as t}from"./index-cb15b65d.js";const h=o("admin",{state:()=>({apiURL:"https://sgip-api-0fe230af7558.herokuapp.com/api/v1/admin",message:"",error:"",data:[]}),actions:{async getUsuario(e){this.error="";try{const a=await t.get(`${this.apiURL}/usuarios/${e}`,null,{headers:{Authorization:`Bearer ${this.token}`}});this.data=a.data,this.message=a.message}catch(a){this.error=a.response.message||a.message}},async getUsuarios(){this.error="";try{const e=await t.get(`${this.apiURL}/usuarios`);this.data=e.data,this.message=e.message}catch(e){this.error=e.response.message||e.message}},async registrarUsuario(e){this.error="";try{const a=await t.post(`${this.apiURL}/registrar`,e);return this.data=a.data.data,this.message=a.data.message,a}catch(a){return this.error=a.response.data.message||a.message,a}},async editarUsuario(e,a){this.error="";try{const s=await t.put(`${this.apiURL}/actualizar/${e}`,a);return this.data=s.data.data,this.message=s.data.message,s}catch(s){return this.error=s.response.data.message||s.message,s}},async bloquearUsuario(e){this.error="";try{const a=await t.put(`${this.apiURL}/bloquear/${e}`);return this.data=a.data.data,this.message=a.data.message,a}catch(a){return this.error=a.response.data.message||a.message,a}},async desbloquearUsuario(e){this.error="";try{const a=await t.put(`${this.apiURL}/desbloquear/${e}`);return this.data=a.data.data,this.message=a.data.message,a}catch(a){return this.error=a.response.data.message||a.message,a}},async eliminarUsuario(e){this.error="";try{const a=await t.delete(`${this.apiURL}/eliminar/${e}`);return this.data=a.data.data,this.message=a.data.message,a}catch(a){return this.error=a.response.data.message||a.message,a}},async restablecerContrasena(e){this.error="";try{const a=await t.put(`${this.apiURL}/restablecer/${e}`);return this.data=a.data.data,this.message=a.data.message,a}catch(a){return this.error=a.response.data.message||a.message,a}},async respaldo(){this.error="";try{const e=await t({method:"get",url:`${this.apiURL}/respaldo`,responseType:"blob"}).then(a=>{const s=window.URL.createObjectURL(new Blob([a.data])),r=document.createElement("a");r.href=s;const i=a.headers["content-disposition"].split("filename=")[1].trim().replaceAll('"',"");return r.setAttribute("download",i),document.body.appendChild(r),r.click(),this.data=a.data.data,this.message=a.data.message,a})}catch(e){return this.error=e.response.data.message||e.message,e}}}});export{h as u};
