import{_ as g,r as u,R as _,u as h,o as y,a as r,b as x,c as b,d as t,Q as C,e as n,p as v,w as V,q as k,F as S,T as I,f as T,i as E}from"./index-dd291314.js";const L={name:"Login",setup(){const i=u(null),o=_(),f=h(),e=E(),c=u(!1),d=u(!1),l=u({email:"",password:""});return y(()=>{document.querySelector('input[type="text"]').focus();let a=document.querySelector('input[type="password"]');a.classList.add("w-100"),a.setAttribute("autocomplete","current-password");const m=localStorage.getItem("username");m&&(l.value.email=m,i.value=!0,a.focus())}),{rememberMe:i,onSubmit:()=>{c.value=!0,d.value=!1,i.value?localStorage.setItem("username",l.value.email):localStorage.removeItem("username"),setTimeout(()=>{o.login(l.value).then(a=>{c.value=!1,a.status===200?(f.push({path:"/inicio"}),I(a.data.access_token),e.closeLoading()):(d.value=!0,e.showLoginErrorToast())}).catch(a=>{e.closeLoading(),e.showErrorAlert(a)})},1e3)},data:l,loading:c,wrongCredentials:d}}},j={class:"container-fluid surface-0"},q={class:"surface-card w-full md:w-8 lg:w-6 mx-auto v-center",style:{"max-width":"500px","padding-top":"3rem","padding-bottom":"8rem"}},A=t("div",{class:"text-center mb-2"},[t("div",{class:"text-900 text-4xl pb-5 font-medium"},"Ingresa tus datos")],-1),B=t("label",{for:"email1",class:"block text-900 fs-5 font-medium mb-2"},"Correo electrónico",-1),M=t("label",{for:"password1",class:"block text-900 fs-5 font-medium mb-2"},"Contraseña",-1),R={class:"flex align-items-center justify-content-between mb-6"},N={class:"flex align-items-center"},O=t("label",{for:"rememberme1"},"Recordarme",-1),U=t("a",{class:"font-medium no-underline ml-2 text-primary-700 hover:text-primary-600 text-right cursor-pointer"},"Olvidé mi contraseña",-1),z={key:0,class:"text-center block font-medium text-red-600 mb-1"},P=T('<footer><div class="row mx-0 justify-content-center mb-0 pt-5 pb-0 row-2 px-3"><div class="col-12"><div class="row row-2"><div class="col-sm-4 my-sm-0"><ul class="list-unstyled"><li class="mt-0 fw-bold">Dirección</li><li>Avenida Ing. Víctor Bravo Ahuja No. 125 Esquina Calzada Tecnológico, C.P. 68030</li><li class="mt-3 fw-bold">Contacto</li><li>Email: <a href="mailto:jefatura.humanos@oaxaca.tecnm.mx" style="color:#fff;">jefatura.humanos@oaxaca.tecnm.mx</a></li><li>Tel: (951) 501 50 16 Ext. 1055</li></ul></div><div class="col-sm-4 my-sm-0"><ul class="list-unstyled"><li class="mt-0 fw-bold">Enlaces</li><li class="mt-1"><a href="www.oaxaca.tecnm.mx" style="color:#fff;text-decoration:none;">Instituto Tecnológico de Oaxaca</a></li><li class="mt-1"><a href="https://it.sgwebcualli.com/Oaxaca/" style="color:#fff;text-decoration:none;">Sistema de Gestión de la Calidad</a></li><li class="mt-1"><a href="http://www.oaxaca.tecnm.mx/directorio" style="color:#fff;text-decoration:none;">Directorio</a></li></ul></div><div class="col-sm-3 text-md-center"><h5><span><i class="fa fa-firefox text-light" aria-hidden="true"></i></span><b> Instituto tecnológico de Oaxaca</b></h5></div></div></div></div><div class="row mx-0 justify-content-center mt-0 pt-0 row-1 mb-0 px-sm-3 px-2"><div class="col-12"><div class="row mx-0 my-1 row-1 no-gutters"><div class="text-center">Recursos Humanos © 2023 Instituto Tecnológico de Oaxaca. Todos los derechos reservados. </div><div class="col-md-3 col-auto"></div><div class="col-md-3 col-auto"></div></div></div></div></footer>',1);function D(i,o,f,e,c,d){const l=r("InputText"),p=r("Password"),a=r("Checkbox"),m=r("RouterLink"),w=r("Button");return x(),b(S,null,[t("div",j,[t("div",q,[A,t("div",null,[t("form",{id:"login",onSubmit:o[3]||(o[3]=C((...s)=>e.onSubmit&&e.onSubmit(...s),["prevent"])),class:"px-5"},[B,n(l,{id:"email1",modelValue:e.data.email,"onUpdate:modelValue":o[0]||(o[0]=s=>e.data.email=s),type:"text",class:v(["w-full mb-3",{"border-red-600 border-2 border-round-lg":e.wrongCredentials}]),autocomplete:"email",required:""},null,8,["modelValue","class"]),M,n(p,{id:"password1",modelValue:e.data.password,"onUpdate:modelValue":o[1]||(o[1]=s=>e.data.password=s),class:v(["w-full mb-3",{"border-red-600 border-2 border-round-lg":e.wrongCredentials}]),autocomplete:"current-password",required:"",feedback:!1,toggleMask:""},null,8,["modelValue","class"]),t("div",R,[t("div",N,[n(a,{id:"rememberme1",binary:!0,modelValue:e.rememberMe,"onUpdate:modelValue":o[2]||(o[2]=s=>e.rememberMe=s),class:"mr-2"},null,8,["modelValue"]),O]),n(m,{to:"/restablecer-contrasena",class:"no-underline"},{default:V(()=>[U]),_:1})]),e.wrongCredentials?(x(),b("span",z,"Credenciales incorrectas")):k("",!0),n(w,{type:"submit",label:e.loading?null:"Iniciar sesión",icon:"pi pi-user",class:"w-full hover:shadow-3 bg-primary-700 hover:bg-primary-600",loading:e.loading},null,8,["label","loading"])],32)])])]),P],64)}const H=g(L,[["render",D]]);export{H as default};
